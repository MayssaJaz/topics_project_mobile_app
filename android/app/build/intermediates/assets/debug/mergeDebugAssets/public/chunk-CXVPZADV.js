import{c as R,e as Y,f as j}from"./chunk-ZY6Z6F2D.js";import{a as x,n as H,v as L}from"./chunk-7KEMS7IJ.js";import{x as D}from"./chunk-W6UDVYDR.js";import{$ as _,$b as $,A as u,B as f,Fb as B,Ga as b,Ia as w,Ka as k,Lb as M,M as v,Mb as A,Nb as E,P as S,T as h,V as a,Yb as V,Z as r,_ as p,da as y,ea as g,fa as P,na as I,u as l,ua as o,va as m,wa as T,xa as C}from"./chunk-KG5FX6JE.js";import{g as d}from"./chunk-OLRFWS6T.js";function F(i,n){if(i&1){let c=y();r(0,"ion-item",1),g("click",function(){u(c);let e=P();return f(e.edit())}),r(1,"ion-label"),I(2,"Edit"),p(),_(3,"ion-icon",2),p()}i&2&&a("button",!0)("detail",!1)}function N(i,n){if(i&1){let c=y();r(0,"ion-item",1),g("click",function(){u(c);let e=P();return f(e.post!=null&&e.post.id?e.removePost():e.removeTopic())}),r(1,"ion-label",3),I(2,"Delete"),p(),_(3,"ion-icon",4),p()}i&2&&a("button",!0)("detail",!1)}x({trash:L,pencil:H});var ie=(()=>{let n=class n{constructor(){this.popoverCtrl=l(V),this.alertService=l(R),this.toastService=l(D)}edit(){this.popoverCtrl.dismiss({action:"edit"})}removeTopic(){return d(this,null,function*(){yield this.alertService.presentAlert(`Are you sure you want to delete ${this.topic.name}?`,()=>{this.popoverCtrl.dismiss({action:"remove"}).then(()=>{this.toastService.presentToast(`You have successfully deleted your book: ${this.topic.name}`,"success")}).catch(s=>{this.toastService.presentToast("Removing book unsuccessful: "+s.message,"danger")})})})}removePost(){return d(this,null,function*(){yield this.alertService.presentAlert(`Are you sure you want to delete ${this.post.name}?`,()=>{this.popoverCtrl.dismiss({action:"remove"}).then(()=>{this.toastService.presentToast(`You have successfully deleted your book: ${this.post.name}`,"success")}).catch(s=>{this.toastService.presentToast("Removing book unsuccessful: "+s.message,"danger")})})})}};n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=S({type:n,selectors:[["app-manage-item"]],inputs:{topic:"topic",post:"post"},decls:12,vars:24,consts:[[3,"button","detail","click",4,"ngIf"],[3,"click","button","detail"],["slot","end","name","pencil"],["color","danger"],["color","danger","slot","end","name","trash"]],template:function(e,t){e&1&&(r(0,"ion-content")(1,"ion-list"),h(2,F,4,2,"ion-item",0),o(3,"hasPostPermission"),o(4,"async"),o(5,"hasTopicPermission"),o(6,"async"),h(7,N,4,2,"ion-item",0),o(8,"hasPostPermission"),o(9,"async"),o(10,"hasTopicPermission"),o(11,"async"),p()()),e&2&&(v(2),a("ngIf",t.post!=null&&t.post.id?m(4,6,C(3,2,t.post,"edit",t.topic)):m(6,11,T(5,8,t.topic,"edit"))),v(5),a("ngIf",t.post!=null&&t.post.id?m(9,17,C(8,13,t.post,"delete",t.topic)):m(11,22,T(10,19,t.topic,"delete"))))},dependencies:[B,$,E,M,A,k,b,w,Y,j],encapsulation:2});let i=n;return i})();export{ie as a};
