import{a as _t}from"./chunk-CXVPZADV.js";import{a as V,b as lt,c as ct,d as pt,e as mt,g as dt,i as ut}from"./chunk-ZY6Z6F2D.js";import"./chunk-5KL66UXA.js";import"./chunk-4SWIPSKG.js";import{a as $,b as Qe,f as Xe,h as Ye,j as Ze,k as et,l as tt,p as it,q as nt,r as ot,s as rt,t as at,u as st}from"./chunk-7KEMS7IJ.js";import"./chunk-GRDTBITF.js";import"./chunk-WNOGYX6W.js";import"./chunk-YMI2B6JE.js";import"./chunk-KPVSGPAK.js";import"./chunk-HC6MZPB3.js";import"./chunk-5IIASHPE.js";import"./chunk-FERD25SW.js";import"./chunk-HMTYJH34.js";import"./chunk-VFZRLGVJ.js";import"./chunk-MM5QLNJM.js";import"./chunk-72KDLSWN.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-EOWGNRGH.js";import"./chunk-MCRJI3T3.js";import"./chunk-U6BOKI5K.js";import"./chunk-W5O32OXO.js";import{a as ee,u as Je,w as v,x as Ke,y as te}from"./chunk-W6UDVYDR.js";import{$ as g,$a as we,$b as B,A as T,Ab as Pe,B as y,Bb as Fe,Cb as Oe,Db as ke,Eb as q,Fa as k,Fb as J,Ga as G,Gb as Ne,Hb as Re,Ia as W,Ib as Ue,J as de,Jb as Be,Ka as N,Kb as Ve,L,Lb as K,M as c,Mb as Q,N as _e,Nb as X,Ob as $e,P as O,Pa as ve,Pb as Y,Qb as De,Rb as Ae,T as _,Tb as Le,Ub as He,V as p,Va as R,Vb as je,W as ue,Wa as Ce,Wb as Ge,X as ge,Xa as xe,Xb as Z,Y as fe,Ya as Ie,Yb as We,Z as a,Za as Te,_ as s,_a as ye,aa as M,ab as Se,ac as ze,ba as P,bc as qe,da as w,db as be,ea as f,fa as u,fb as Ee,h as E,i as A,j as ie,m as pe,ma as H,na as d,oa as F,p as me,pa as b,qa as ne,ta as he,u as h,ua as C,va as S,wa as oe,xb as Me,ya as j,yb as U,zb as z}from"./chunk-KG5FX6JE.js";import"./chunk-EQWFYTHX.js";import"./chunk-QPPST4YU.js";import"./chunk-IXFPWM3A.js";import"./chunk-3BFGMDL6.js";import"./chunk-G3CV3VGG.js";import"./chunk-PXSONQDE.js";import"./chunk-MS5FDQK3.js";import"./chunk-GCVURZBX.js";import"./chunk-4U6PRYVA.js";import"./chunk-QXT6YJJ4.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as D,b as ce,g as x}from"./chunk-OLRFWS6T.js";function Ct(e,r){if(e&1&&(a(0,"ion-select-option"),d(1),s()),e&2){let o=r.$implicit;c(),b(" ",o," ")}}function xt(e,r){if(e&1){let o=w();a(0,"ion-item",19),f("click",function(){let i=T(o).$implicit,n=u(3);return y(n.addUserHandler(i,"readers"))}),d(1),s()}if(e&2){let o=r.$implicit;c(),ne(" ",o.name," (",o.email,") ")}}function It(e,r){if(e&1&&(a(0,"ion-list"),_(1,xt,2,2,"ion-item",18),s()),e&2){let o=u().ngIf;c(),p("ngForOf",o)}}function Tt(e,r){if(e&1&&(a(0,"div"),_(1,It,2,1,"ion-list",12),s()),e&2){let o=r.ngIf;c(),p("ngIf",o.length>0)}}function yt(e,r){if(e&1){let o=w();a(0,"ion-chip")(1,"ion-label"),d(2),s(),a(3,"ion-icon",20),f("click",function(){let i=T(o).$implicit,n=u();return y(n.removeUser(i.value.uid,"readers"))}),s()()}if(e&2){let o=r.$implicit;c(2),F(o.value.name)}}function wt(e,r){if(e&1){let o=w();a(0,"ion-item",19),f("click",function(){let i=T(o).$implicit,n=u(3);return y(n.addUserHandler(i,"writers"))}),d(1),s()}if(e&2){let o=r.$implicit;c(),ne(" ",o.name," (",o.email,") ")}}function St(e,r){if(e&1&&(a(0,"ion-list"),_(1,wt,2,2,"ion-item",18),s()),e&2){let o=u().ngIf;c(),p("ngForOf",o)}}function bt(e,r){if(e&1&&(a(0,"div"),_(1,St,2,1,"ion-list",12),s()),e&2){let o=r.ngIf;c(),p("ngIf",o.length>0)}}function Et(e,r){if(e&1){let o=w();a(0,"ion-chip")(1,"ion-label"),d(2),s(),a(3,"ion-icon",20),f("click",function(){let i=T(o).$implicit,n=u();return y(n.removeUser(i.value.uid,"writers"))}),s()()}if(e&2){let o=r.$implicit;c(2),F(o.value.name)}}function Mt(e,r){if(e&1&&(a(0,"div",21),g(1,"img",22),s()),e&2){let o=u();c(),p("src",o.imagePreview,L)}}$({closeCircle:Ye});var ht=(()=>{let r=class r{constructor(){this.topicService=h(V),this.authService=h(te),this.fb=h(be),this.modalCtrl=h(Z),this.alertService=h(ct),this.NAME_MIN_LENGTH=3,this.DESCRIPTION_MIN_LENGTH=5,this.USER_SEARCH_MIN_LENGTH=3,this.selectedFile=null,this.imagePreview=null,this.filteredReaders$=E([]),this.filteredWriters$=E([]),this.categories=Object.values(Je),this.toastService=h(Ke),this.topicForm=this.fb.group({name:["",[R.required,R.minLength(this.NAME_MIN_LENGTH)]],description:["",[R.required,R.minLength(this.DESCRIPTION_MIN_LENGTH)]],category:["",[R.required]],readerSearch:[""],writerSearch:[""],readers:this.fb.array([]),writers:this.fb.array([])}),this.errorText$=this.topicForm.events.pipe(pe(t=>t instanceof Te||t instanceof Ie),ie(()=>{var t,i,n,l,m,I,re,ae,se,le;return(t=this.topicNameControl)!=null&&t.errors&&((i=this.topicNameControl)!=null&&i.errors.required)?"This field is required":(n=this.topicNameControl)!=null&&n.errors&&((l=this.topicNameControl)!=null&&l.errors.minlength)?`Name should have at least ${this.NAME_MIN_LENGTH} characters`:(m=this.topicDescriptionControl)!=null&&m.errors&&((I=this.topicDescriptionControl)!=null&&I.errors.required)?"This field is required":(re=this.topicDescriptionControl)!=null&&re.errors&&((ae=this.topicDescriptionControl)!=null&&ae.errors.minlength)?`Description should have at least ${this.DESCRIPTION_MIN_LENGTH} characters`:(se=this.topicCategoryControl)!=null&&se.errors&&((le=this.topicCategoryControl)!=null&&le.errors.required)?"This field is required":""})),this.errorText=ee(this.errorText$)}ngOnInit(){return x(this,null,function*(){var t,i,n,l,m;if(this.topic){if((t=this.topicNameControl)==null||t.setValue(this.topic.name),(i=this.topicDescriptionControl)==null||i.setValue(this.topic.description),(n=this.topicCategoryControl)==null||n.setValue(this.topic.category),this.topic.cover)try{this.selectedFile=yield this.urlToFile(this.topic.cover,"book-cover.jpg","image/jpeg");let I=new FileReader;I.onload=()=>{this.imagePreview=I.result},I.readAsDataURL(this.selectedFile)}catch(I){console.error("Error loading cover image:",I),this.toastService.presentToast("Error loading cover image","danger")}(l=this.topic.readers)!=null&&l.length&&this.loadUsersByIds(this.topic.readers,"readers"),(m=this.topic.writers)!=null&&m.length&&this.loadUsersByIds(this.topic.writers,"writers")}})}urlToFile(t,i,n){return x(this,null,function*(){let m=yield(yield fetch(t)).blob();return new File([m],i,{type:n})})}loadUsersByIds(t,i){let n=i==="readers"?this.readers:this.writers;t.forEach(l=>{this.authService.getUserById(l).subscribe(m=>{m&&n.push(this.fb.control(m))})})}onFileSelected(t){var n;let i=(n=t.target.files)==null?void 0:n[0];if(i){this.selectedFile=i;let l=new FileReader;l.onload=()=>{this.imagePreview=l.result},l.readAsDataURL(i)}}get topicNameControl(){return this.topicForm.get("name")}get topicDescriptionControl(){return this.topicForm.get("description")}get topicCategoryControl(){return this.topicForm.get("category")}get readers(){return this.topicForm.get("readers")}get writers(){return this.topicForm.get("writers")}searchUsers(t,i){let n=t.target.value.trim();n.length>=this.USER_SEARCH_MIN_LENGTH?i==="readers"?this.filteredReaders$=this.authService.getUsersByPartialNameOrEmail(n,this.topic):this.filteredWriters$=this.authService.getUsersByPartialNameOrEmail(n,this.topic):i==="readers"?this.filteredReaders$=E([]):this.filteredWriters$=E([])}addUserHandler(t,i){return x(this,null,function*(){(i==="readers"?this.writers.controls.some(l=>l.value.uid===t.uid):this.readers.controls.some(l=>l.value.uid===t.uid))?yield this.showConfirmationPopup(t,i):this.addUser(t,i)})}addUser(t,i){var l,m;let n=i==="readers"?this.readers:this.writers;n.controls.some(I=>I.value.uid===t.uid)||n.push(this.fb.control(t)),i==="readers"?((l=this.topicForm.get("readerSearch"))==null||l.setValue(""),this.filteredReaders$=E([])):((m=this.topicForm.get("writerSearch"))==null||m.setValue(""),this.filteredWriters$=E([]))}removeUser(t,i){let n=i==="readers"?this.readers:this.writers,l=n.controls.findIndex(m=>m.value.uid===t);l!==-1&&n.removeAt(l)}cancel(){this.modalCtrl.dismiss()}getUserId(){return this.authService.getConnectedUser().pipe(ie(t=>t==null?void 0:t.uid))}onSubmit(){return x(this,null,function*(){var t,i,n;if((t=this.topic)!=null&&t.id)this.topicService.editTopic(ce(D({},this.topic),{name:this.topicForm.value.name,readers:this.readers.value.map(l=>l.uid),writers:this.writers.value.map(l=>l.uid),description:this.topicForm.value.description,category:this.topicForm.value.category}),(i=this.selectedFile)!=null?i:void 0);else{let l=yield A(this.getUserId());this.topicService.addTopic({name:this.topicForm.value.name,readers:this.readers.value.map(m=>m.uid),writers:this.writers.value.map(m=>m.uid),owner:l,description:this.topicForm.value.description,category:this.topicForm.value.category,reactions:this.initializeReactions()},(n=this.selectedFile)!=null?n:void 0)}this.modalCtrl.dismiss()})}initializeReactions(){return{[v.LOVE]:[],[v.THUMBS_UP]:[],[v.THUMBS_DOWN]:[],[v.SAD]:[]}}showConfirmationPopup(t,i){return x(this,null,function*(){yield this.alertService.presentAlert(`This user is listed as a ${i.slice(0,i.length-1)} on this book. Are you sure you want to change him for a writer?`,()=>{i==="readers"?this.removeUser(t==null?void 0:t.uid,"writers"):this.removeUser(t==null?void 0:t.uid,"readers"),this.addUser(t,i)})})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=O({type:r,selectors:[["app-create-topic"]],decls:34,vars:14,consts:[[3,"ngSubmit","formGroup"],["slot","start"],["color","medium",3,"click"],["slot","end"],["type","submit",3,"disabled","strong"],[1,"ion-padding",3,"fullscreen"],["formControlName","name","fill","solid","name","name","label","Enter book name","labelPlacement","floating","placeholder","Book name"],["formControlName","description","fill","solid","name","description","label","Enter book description","labelPlacement","floating","placeholder","Book description"],["fill","solid","name","category","label","Enter book category","labelPlacement","floating","placeholder","Book category"],["formControlName","category","label","Category","placeholder","Book category"],[4,"ngFor","ngForOf"],["placeholder","Add Readers","formControlName","readerSearch",3,"ionInput"],[4,"ngIf"],["placeholder","Add Writers","formControlName","writerSearch",3,"ionInput"],["size","12"],["position","stacked"],["type","file","accept","image/*",1,"custom-file-input",3,"change"],["class","image-preview",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["name","close-circle",3,"click"],[1,"image-preview"],["alt","Book Cover Preview",3,"src"]],template:function(i,n){i&1&&(a(0,"form",0),f("ngSubmit",function(){return n.onSubmit()}),a(1,"ion-header")(2,"ion-toolbar")(3,"ion-buttons",1)(4,"ion-button",2),f("click",function(){return n.cancel()}),d(5,"Cancel"),s()(),a(6,"ion-title"),d(7,"Book"),s(),a(8,"ion-buttons",3)(9,"ion-button",4),d(10,"Confirm"),s()()()(),a(11,"ion-content",5),g(12,"ion-input",6)(13,"ion-input",7),a(14,"ion-item",8)(15,"ion-select",9),_(16,Ct,2,1,"ion-select-option",10),s()(),a(17,"ion-input",11),f("ionInput",function(m){return n.searchUsers(m,"readers")}),s(),_(18,Tt,2,1,"div",12),C(19,"async"),a(20,"div"),_(21,yt,4,1,"ion-chip",10),s(),a(22,"ion-input",13),f("ionInput",function(m){return n.searchUsers(m,"writers")}),s(),_(23,bt,2,1,"div",12),C(24,"async"),a(25,"div"),_(26,Et,4,1,"ion-chip",10),s(),a(27,"ion-row")(28,"ion-col",14)(29,"ion-item")(30,"ion-label",15),d(31,"Upload Book Cover"),s(),a(32,"input",16),f("change",function(m){return n.onFileSelected(m)}),s()(),_(33,Mt,2,1,"div",17),s()()()()),i&2&&(p("formGroup",n.topicForm),c(9),p("disabled",n.topicForm.invalid)("strong",!0),c(2),p("fullscreen",!0),c(5),p("ngForOf",n.categories),c(2),p("ngIf",S(19,10,n.filteredReaders$)),c(3),p("ngForOf",n.readers.controls),c(2),p("ngIf",S(24,12,n.filteredWriters$)),c(3),p("ngForOf",n.writers.controls),c(7),p("ngIf",n.imagePreview))},dependencies:[Ee,ye,Ce,xe,we,Se,N,k,G,W,J,Be,Ge,U,z,ze,B,Y,q,X,K,Q,je,ke,qe,De],encapsulation:2});let e=r;return e})();function Pt(e,r){if(e&1){let o=w();a(0,"ion-button",1),f("click",function(){let i=T(o).$implicit,n=u();return y(n.react(n.topic,i,n.userId))}),g(1,"ion-icon",2),d(2),s()}if(e&2){let o=r.$implicit,t=u();ue("filled",t.hasReacted(t.topic,o,t.userId)),c(),p("name",t.getIcon(o)),c(),b(" ",t.getReactionCount(t.topic,o)," ")}}$({heart:et,heartOutline:tt,thumbsUp:at,thumbsDown:ot,sad:it,thumbsUpOutline:st,thumbsDownOutline:rt,sadOutline:nt});var vt=(()=>{let r=class r{constructor(t){this.topicService=t,this.reactionsTypes=Object.values(v)}ngOnInit(){}getReactionCount(t,i){var n,l;return((l=(n=t.reactions)==null?void 0:n[i])==null?void 0:l.length)||0}react(t,i,n){let l=D({},t.reactions);if(this.initializeMissingReactions(l),n){let m=l[i].indexOf(n);m>-1?l[i].splice(m,1):l[i].push(n)}this.updateReactions(t,l)}updateReactions(t,i){this.topicService.editTopicReactions(t.id,i)}initializeMissingReactions(t){Object.keys(v).forEach(i=>{let n=v[i];t[n]||(t[n]=[])})}hasReacted(t,i,n){var l,m;return n&&((m=(l=t.reactions)==null?void 0:l[i])==null?void 0:m.includes(n))||!1}getIcon(t){switch(t){case v.LOVE:return this.hasReacted(this.topic,t,this.userId)?"heart":"heart-outline";case v.THUMBS_UP:return this.hasReacted(this.topic,t,this.userId)?"thumbs-up":"thumbs-up-outline";case v.THUMBS_DOWN:return this.hasReacted(this.topic,t,this.userId)?"thumbs-down":"thumbs-down-outline";case v.SAD:return this.hasReacted(this.topic,t,this.userId)?"sad":"sad-outline";default:return"help-circle-outline"}}};r.\u0275fac=function(i){return new(i||r)(_e(V))},r.\u0275cmp=O({type:r,selectors:[["app-reactions"]],inputs:{topic:"topic",userId:"userId"},decls:2,vars:1,consts:[[3,"filled","click",4,"ngFor","ngForOf"],[3,"click"],["slot","icon-only",3,"name"]],template:function(i,n){i&1&&(a(0,"ion-buttons"),_(1,Pt,3,4,"ion-button",0),s()),i&2&&(c(),p("ngForOf",n.reactionsTypes))},dependencies:[z,U,N,k,B],encapsulation:2});let e=r;return e})();var Ft=(e,r)=>r.id,Ot=e=>[e];function kt(e,r){if(e&1){let o=w();a(0,"ion-button",22),f("click",function(i){T(o);let n=u().$implicit;return u(2).presentTopicManagementPopover(i,n),y(i.stopPropagation())}),g(1,"ion-icon",23),s()}}function Nt(e,r){if(e&1&&g(0,"img",24),e&2){let o=u().$implicit;p("src",o.cover,L)}}function Rt(e,r){e&1&&(a(0,"ion-avatar",26),g(1,"img",27),s())}function Ut(e,r){if(e&1&&(M(0),a(1,"span"),d(2),s(),P()),e&2){let o=u(2).$implicit;c(2),b("+",o.writers.length-2,"")}}function Bt(e,r){if(e&1&&(M(0),_(1,Rt,2,0,"ion-avatar",25)(2,Ut,3,1,"ng-container",20),P()),e&2){let o=u().$implicit;c(),p("ngForOf",o.writers.slice(0,2)),c(),p("ngIf",o.writers.length>2)}}function Vt(e,r){e&1&&(a(0,"span"),d(1,"0"),s())}function $t(e,r){e&1&&(a(0,"ion-avatar",26),g(1,"img",28),s())}function Dt(e,r){if(e&1&&(M(0),a(1,"span"),d(2),s(),P()),e&2){let o=u(2).$implicit;c(2),b("+",o.readers.length-2,"")}}function At(e,r){if(e&1&&(M(0),_(1,$t,2,0,"ion-avatar",25)(2,Dt,3,1,"ng-container",20),P()),e&2){let o=u().$implicit;c(),p("ngForOf",o.readers.slice(0,2)),c(),p("ngIf",o.readers.length>2)}}function Lt(e,r){e&1&&(a(0,"span"),d(1,"0"),s())}function Ht(e,r){if(e&1&&(M(0),a(1,"span"),d(2),s(),P()),e&2){let o=r.ngIf;c(2),F(o)}}function jt(e,r){e&1&&(M(0),a(1,"span"),d(2,"0"),s(),P())}function Gt(e,r){if(e&1&&(a(0,"ion-card",8)(1,"ion-item",10)(2,"ion-label")(3,"ion-card-title"),d(4),s(),a(5,"ion-card-subtitle"),d(6),s()(),_(7,kt,2,0,"ion-button",11),C(8,"hasTopicPermission"),C(9,"async"),C(10,"hasTopicPermission"),C(11,"async"),s(),_(12,Nt,1,1,"img",12),a(13,"ion-item")(14,"ion-row",13)(15,"ion-col",14),g(16,"app-reactions",15),s(),a(17,"ion-col",16)(18,"ion-row",17)(19,"ion-col",14)(20,"strong"),d(21,"Writers:"),s()(),a(22,"ion-col",18),_(23,Bt,3,2,"ng-container",4)(24,Vt,2,0,"ng-template",null,1,j),s()(),a(26,"ion-row",19)(27,"ion-col",14)(28,"strong"),d(29,"Readers:"),s()(),a(30,"ion-col",18),_(31,At,3,2,"ng-container",4)(32,Lt,2,0,"ng-template",null,2,j),s()(),a(34,"ion-row")(35,"ion-col",14)(36,"strong"),d(37,"Posts:"),s()(),a(38,"ion-col",14),_(39,Ht,3,1,"ng-container",20),C(40,"getPostsLengthByTopic"),C(41,"async"),_(42,jt,3,0,"ng-container",20),C(43,"getPostsLengthByTopic"),C(44,"async"),s()()()()(),a(45,"ion-item",21)(46,"ion-grid")(47,"h3"),d(48,"Summary:"),s(),d(49),s()()()),e&2){let o=r.$implicit,t=H(25),i=H(33),n=u(2);c(4),F(o.name),c(2),F(o.category),c(),p("ngIf",S(9,17,oe(8,14,o,"edit"))||S(11,22,oe(10,19,o,"delete"))),c(5),p("ngIf",o.cover),c(4),p("topic",o)("userId",n.userId),c(7),p("ngIf",o.writers&&o.writers.length>0)("ngIfElse",t),c(8),p("ngIf",o.readers&&o.readers.length>0)("ngIfElse",i),c(8),p("ngIf",S(41,26,S(40,24,o))),c(3),p("ngIf",S(44,30,S(43,28,o))===0),c(3),p("routerLink",he(32,Ot,"/topics/"+o.id)),c(4),b(" ",o.description," ")}}function Wt(e,r){e&1&&(a(0,"div",9),g(1,"ion-img",29),a(2,"ion-text",30),d(3,"No books added yet"),s()())}function zt(e,r){if(e&1&&(a(0,"ion-list"),ge(1,Gt,50,34,"ion-card",8,Ft,!1,Wt,4,0,"div",9),s()),e&2){let o=u();c(),fe(o.topics())}}function qt(e,r){e&1&&(a(0,"ion-list")(1,"ion-list-header"),g(2,"ion-skeleton-text",31),s(),a(3,"ion-item")(4,"ion-thumbnail",32),g(5,"ion-skeleton-text",33),s(),a(6,"ion-label")(7,"h3"),g(8,"ion-skeleton-text",34),s(),a(9,"p"),g(10,"ion-skeleton-text",35),s(),a(11,"p"),g(12,"ion-skeleton-text",36),s()()()()),e&2&&(c(2),p("animated",!0),c(3),p("animated",!0),c(3),p("animated",!0),c(2),p("animated",!0),c(2),p("animated",!0))}$({addOutline:Qe,chevronForward:Xe,ellipsisVertical:Ze});var Vi=(()=>{let r=class r{constructor(){this.topicService=h(V),this.modalCtrl=h(Z),this.popoverCtrl=h(We),this.toastCtrl=h(lt),this.authService=h(te),this.loading=de(!0),this.topics=ee(this.topicService.getAll().pipe(me(()=>this.loading.set(!1))))}ngOnInit(){return x(this,null,function*(){this.userId=yield A(this.authService.getUserId())})}openModal(t){return x(this,null,function*(){let i=yield this.modalCtrl.create({component:ht,componentProps:{topic:t}});i.present(),yield i.onDidDismiss()})}presentUserPopover(t){return x(this,null,function*(){yield(yield this.popoverCtrl.create({component:pt,event:t,showBackdrop:!0,translucent:!0})).present()})}presentTopicManagementPopover(t,i){return x(this,null,function*(){let n=yield this.popoverCtrl.create({component:_t,event:t,componentProps:{topic:i}});yield n.present();let{data:{action:l}}=yield n.onDidDismiss();l==="remove"?this.topicService.removeTopic(i):l==="edit"&&this.openModal(i)})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=O({type:r,selectors:[["app-home"]],decls:8,vars:3,consts:[["loadingTemplate",""],["noWriters",""],["noReaders",""],[3,"fullscreen"],[4,"ngIf","ngIfElse"],["slot","fixed","vertical","bottom","horizontal","end"],["aria-label","Add new book",3,"click"],["name","add-outline"],[1,"book-card"],[1,"empty-state"],["lines","none",1,"bg-gradient"],["fill","clear","aria-label","Manage topic",3,"click",4,"ngIf"],["alt","Book Cover","class","book-cover",3,"src",4,"ngIf"],[2,"width","100%","display","flex","justify-content","space-between"],["size","auto"],[3,"topic","userId"],["size","auto",1,"writers-readers-avatars"],[1,"writers-row"],["size","auto",1,"avatars-row"],[1,"readers-row"],[4,"ngIf"],["lines","none",1,"summary-item",3,"routerLink"],["fill","clear","aria-label","Manage topic",3,"click"],["slot","icon-only","name","ellipsis-vertical"],["alt","Book Cover",1,"book-cover",3,"src"],["class","small-avatar",4,"ngFor","ngForOf"],[1,"small-avatar"],["src","assets/img/no_logo.jpg","alt","Writer Avatar"],["src","assets/img/no_logo.jpg","alt","Readers Avatar"],["src","assets/img/no_data.svg","alt","No books found"],["color","medium"],[2,"width","80px",3,"animated"],["slot","start"],[3,"animated"],[2,"width","80%",3,"animated"],[2,"width","60%",3,"animated"],[2,"width","30%",3,"animated"]],template:function(i,n){if(i&1){let l=w();g(0,"header-component"),a(1,"ion-content",3),_(2,zt,4,1,"ion-list",4)(3,qt,13,5,"ng-template",null,0,j),a(5,"ion-fab",5)(6,"ion-fab-button",6),f("click",function(){return T(l),y(n.openModal())}),g(7,"ion-icon",7),s()()()}if(i&2){let l=H(4);c(),p("fullscreen",!0),c(),p("ngIf",!n.loading())("ngIfElse",l)}},dependencies:[N,k,G,W,ve,vt,mt,ut,J,U,B,Y,q,Ue,X,Oe,K,Me,Ve,Le,$e,Ae,Ne,Re,Q,He,Pe,Fe,dt],styles:["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:first-child{padding-top:var(--ion-safe-area-top)}ion-item.bg-gradient[_ngcontent-%COMP%]::part(native){background:linear-gradient(135deg,#9f7aea,#b3dbff);border-radius:12px;padding:8px 16px}ion-item.bg-gradient[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#2d3748}ion-item.bg-gradient[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%], ion-item.bg-gradient[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{color:inherit}.book-card[_ngcontent-%COMP%]{margin:16px;border:1px solid var(--ion-border-color)}.header-logo[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:8px}.book-cover[_ngcontent-%COMP%]{background:none!important;width:100%}.summary-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--inner-padding-end: 0}.summary-item[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{white-space:pre-line;line-height:1.5}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:60vh;text-align:center}.empty-state[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{width:50%;max-width:200px;opacity:.7;margin-bottom:16px}@media (max-width: 576px){.book-card[_ngcontent-%COMP%]{margin:8px}}.writers-readers-avatars[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.avatars-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.small-avatar[_ngcontent-%COMP%]{margin-left:6px;width:20px;height:20px}.writers-row[_ngcontent-%COMP%], .readers-row[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}ion-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]});let e=r;return e})();export{Vi as TopicsPage};
